# 必选基础配置
CONFIG_TARGET_BOARD="mediatek"
CONFIG_TARGET_SUBTARGET="filogic"
CONFIG_TARGET_PROFILE="DEVICE_cmcc_rax3000m-nand"
CONFIG_TARGET_ARCH_PACKAGES="aarch64_cortex-a53"
CONFIG_DEFAULT_TARGET_OPTIMIZATION="-O2 -mtune=cortex-a53"

# 专属适配：CMCC RAX3000M (nand版) 硬件配置
CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_filogic=y
CONFIG_TARGET_mediatek_filogic_DEVICE_cmcc_rax3000m-nand=y

# NAND闪存适配
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_ROOTFS_SQUASHFS_BLOCK_SIZE=256k
CONFIG_TARGET_IMAGES_GZIP=y
CONFIG_TARGET_IMAGES_SQUASHFS=y
CONFIG_TARGET_NO_UBI=y

# CPU优化（MT7981A 4核A53）
CONFIG_CPU_TYPE="cortex-a53"

# 内核版本（匹配RAX3000M稳定版5.15.195）
CONFIG_KERNELVERSION="5.15"
CONFIG_KERNEL_PATCHVER="5.15"

# RAX3000M专属内核驱动
CONFIG_KERNEL_GPIO_MTK_PMIC=y
CONFIG_KERNEL_MTD_SPI_NAND=y
CONFIG_KERNEL_MTD_NAND_MTK=y
CONFIG_KERNEL_MTD_PARTITIONS=y
CONFIG_KERNEL_MTD=y

# WiFi功率解锁核心内核配置
CONFIG_KERNEL_CFG80211_CRDA_SUPPORT=y
CONFIG_KERNEL_CFG80211_REG_DEBUG=y
CONFIG_KERNEL_MAC80211_DEBUGFS=y
CONFIG_KERNEL_MAC80211_MESH=y

# WiFi高功率稳定驱动（RAX3000M核心优化）
CONFIG_PACKAGE_kmod-mac80211=y
CONFIG_PACKAGE_kmod-mt76-core=y
CONFIG_PACKAGE_kmod-mt7915e=y
CONFIG_PACKAGE_kmod-mt7981-firmware=y

# 高功率固件（RAX3000M专属）
CONFIG_PACKAGE_mt7981-wo-firmware=y
CONFIG_PACKAGE_eip197-mini-firmware=y

# 禁用WiFi节能（提升稳定性）
CONFIG_PACKAGE_kmod-mt76-disable-ps=y

# MT76驱动高级特性（高功率必备）
CONFIG_MT76_HW_MGMT=y
CONFIG_MT76_TX_AGGR=y
CONFIG_MT76_RX_AGGR=y
CONFIG_MT76_11AX=y
CONFIG_MT76_11AC=y

# 功率调节工具（解锁功率）
CONFIG_PACKAGE_iw=y
CONFIG_PACKAGE_crda=y
CONFIG_PACKAGE_regdb=y
CONFIG_PACKAGE_wireless-regdb=y

# WiFi加密/兼容性（稳定必备）
CONFIG_PACKAGE_wpad-openssl=y
CONFIG_PACKAGE_hostapd-common=y
CONFIG_PACKAGE_hostapd-openssl=y

# 基础系统包（保留核心，适配设备）
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_busybox=y
CONFIG_PACKAGE_dropbear=y
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_opkg=y
CONFIG_PACKAGE_uhttpd=y
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-light=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_PACKAGE_luci-theme-bootstrap=y

# 设备专属工具
CONFIG_PACKAGE_mtd=y
CONFIG_PACKAGE_ubi-utils=y
CONFIG_PACKAGE_uboot-envtools=y

# 网络相关（RAX3000M优化+高功率兼容）
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_iwinfo=y

# 网络加速/转发
CONFIG_PACKAGE_kmod-wireguard=y
CONFIG_PACKAGE_wireguard-tools=y
CONFIG_PACKAGE_kmod-tun=y
CONFIG_PACKAGE_kmod-nft-fullcone=y

# PPPoE（宽带拨号必备）
CONFIG_PACKAGE_kmod-pppoe=y
CONFIG_PACKAGE_kmod-pppox=y
CONFIG_PACKAGE_ppp-mod-pppoe=y

# 存储相关（RAX3000M USB/存储适配）
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-ntfs3=y
CONFIG_PACKAGE_kmod-fs-vfat=y
CONFIG_PACKAGE_kmod-fs-exfat=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_kmod-usb-storage-extras=y
CONFIG_PACKAGE_kmod-usb-storage-uas=y
CONFIG_PACKAGE_kmod-usb-xhci-hcd=y
CONFIG_PACKAGE_kmod-usb-xhci-mtk=y
CONFIG_PACKAGE_kmod-usb3=y
CONFIG_PACKAGE_e2fsprogs=y
CONFIG_PACKAGE_f2fsck=y
CONFIG_PACKAGE_ntfs3-mount=y

# rtp2httpd 完整配置（适配RAX3000M）
CONFIG_PACKAGE_rtp2httpd=y
CONFIG_PACKAGE_luci-app-rtp2httpd=y
CONFIG_PACKAGE_luci-i18n-rtp2httpd-zh-cn=y

# Luci应用（RAX3000M适配版）
CONFIG_PACKAGE_luci-app-attendedsysupgrade=y
CONFIG_PACKAGE_luci-app-commands=y
CONFIG_PACKAGE_luci-app-filebrowser=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-homeproxy=y
CONFIG_PACKAGE_luci-app-lucky=y
CONFIG_PACKAGE_luci-app-opkg=y
CONFIG_PACKAGE_luci-proto-wireguard=y

# 中文语言包（完整适配）
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y
CONFIG_PACKAGE_luci-i18n-attendedsysupgrade-zh-cn=y
CONFIG_PACKAGE_luci-i18n-commands-zh-cn=y
CONFIG_PACKAGE_luci-i18n-filebrowser-zh-cn=y
CONFIG_PACKAGE_luci-i18n-firewall-zh-cn=y
CONFIG_PACKAGE_luci-i18n-homeproxy-zh-cn=y
CONFIG_PACKAGE_luci-i18n-lucky-zh-cn=y
CONFIG_PACKAGE_luci-i18n-opkg-zh-cn=y

# 工具类包（RAX3000M常用）
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_jq=y
CONFIG_PACKAGE_coreutils=y
CONFIG_PACKAGE_bc=y
CONFIG_PACKAGE_python3=y
CONFIG_PACKAGE_python3-pip=y
CONFIG_PACKAGE_sing-box=y
CONFIG_PACKAGE_tailscale=y
CONFIG_PACKAGE_openssh-sftp-server=y
CONFIG_PACKAGE_automount=y
CONFIG_PACKAGE_wg-installer-server=y

# 内核模块（RAX3000M关键依赖+高功率兼容）
CONFIG_PACKAGE_kmod-crypto-all=y
CONFIG_PACKAGE_kmod-nf-nathelper=y
CONFIG_PACKAGE_kmod-nf-nathelper-extra=y
CONFIG_PACKAGE_kmod-macvlan=y

# 加密/网络依赖
CONFIG_PACKAGE_kmod-crypto-hw-safexcel=y
CONFIG_PACKAGE_kmod-cryptodev=y
CONFIG_PACKAGE_kmod-nft-offload=y
CONFIG_PACKAGE_kmod-sched-core=y
CONFIG_PACKAGE_kmod-sched-flower=y
